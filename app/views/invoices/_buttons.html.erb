<% if invoice.created? %>
  <%= render partial: 'shared/delete_confirmation', locals: {
    entity: invoice,
    button_size: button_size
  } %>
  <%= link_to edit_invoice_path(invoice), class: "pure-button #{button_size}" do %>
    <span class="material-symbols-outlined">edit</span> Edit
  <% end %>
<% end %>

<% unless invoice.paid? %>
  <div data-controller="send-confirmation" style="display: inline">
    <button class="pure-button pure-button-primary send-invoice-btn <%=button_size%>"
            data-id="<%= invoice.id %>"
            data-name="Invoice #<%= invoice.id %> for <%= invoice.client.name %>"
            data-action="click->send-confirmation#open">
      <span class="material-symbols-outlined">mail</span> Send
    </button>
  </div>

  <button class="pure-button button-success mark-paid-btn <%=button_size%>"
          data-id="<%= invoice.id %>"
          data-name="Invoice #<%= invoice.id %> for <%= invoice.client.name %>"
          data-controller="mark-paid"
          data-action="click->mark-paid#open">
    <span class="material-symbols-outlined">check</span> Mark as Paid
  </button>
<% end %>

<% if invoice.can_issue_credit_note? %>
  <%= link_to new_invoice_credit_note_path(invoice), class: "pure-button button-warning #{button_size}", data: { turbo_frame: '_top' } do %>
    <span class="material-symbols-outlined">receipt</span> Issue Credit Note
  <% end %>
<% end %>
