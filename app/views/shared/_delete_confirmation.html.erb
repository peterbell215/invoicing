<div data-controller="delete-confirmation" style="display: inline">
  <button class="pure-button button-danger <%= button_size %>"
          data-id="<%= entity.id %>"
          data-entity-type="<%= entity.class.to_s.tableize %>"
          data-name="<%= entity.respond_to?(:summary) ? entity.summary : entity.to_s %>"
          data-action="click->delete-confirmation#open">
    <span class="material-symbols-outlined">delete</span> Delete
  </button>
</div>

<!-- Delete Confirmation Modal -->
<% unless @delete_confirmation_rendered %>
  <% content_for :dialogues do %>
    <dialog data-controller="delete-modal" data-delete-modal-target="dialog" data-action="click->delete-modal#clickOutside">
      <div class="dialog-content">
        <h3>Confirm Deletion</h3>
        <p>Are you sure you want to delete: <span data-delete-modal-target="name"></span>?</p>
        <p>This action cannot be undone.</p>
        <div class="dialog-buttons">
          <button id="cancel-delete" class="pure-button" data-action="click->delete-modal#close">Cancel</button>
          <%= form_tag "", method: :delete, class: "dialog-form", data: { delete_modal_target: "form" } do %>
            <button type="submit" class="pure-button pure-button-primary button-danger" data-action="click->delete-modal#close">
              <span class="material-symbols-outlined">delete</span> Delete
            </button>
          <% end %>
        </div>
      </div>
    </dialog>
  <% end %>
  <% @delete_confirmation_rendered = true %>
<% end %>
