<tr is="turbo-frame" id="<%= dom_id(billing) %>">
  <td><%= link_to billing.id, invoice_path(billing) %></td>
  <td><span class="billing-type-badge invoice">Invoice</span></td>
  <td><%= billing.client.name %></td>
  <td><%= billing.date.strftime('%d %b %Y') if billing.date %></td>
  <td><%= billing.amount.format if billing.amount %></td>
  <td>
    <span class="status-badge <%= billing.status %>">
      <%= billing.status.humanize %>
    </span>
  </td>

  <td class="action-buttons">
    <%= link_to invoice_path(billing), class: "pure-button pure-button-primary button-small", data: { turbo_frame: '_top' } do %>
      <span class="material-symbols-outlined">subject</span> View
    <% end %>

    <%= render partial: "invoices/buttons", locals: { invoice: billing, button_size: "button-small" } %>

    <% if billing.can_issue_credit_note? %>
      <%= link_to new_invoice_credit_note_path(billing), class: "pure-button button-warning button-small", data: { turbo_frame: '_top' } do %>
        <span class="material-symbols-outlined">receipt</span> Issue Credit Note
      <% end %>
    <% end %>
  </td>
</tr>

<style>
  .billing-type-badge {
    display: inline-block;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.9em;
    font-weight: 500;
  }

  .billing-type-badge.invoice {
    background-color: #e3f2fd;
    color: #1976d2;
  }

  .billing-type-badge.credit-note {
    background-color: #fff3e0;
    color: #f57c00;
  }
</style>

